<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SafeCab - No+Chat</title>
    <link href='https://fonts.googleapis.com/css?family=Roboto Condensed' rel='stylesheet'>
    <link href="{{ url_for('static' , filename='css/index.css') }}" rel="stylesheet" type="text/css"/>
</head>
<body>
<header class="safecab-header">
    <div class="brand">
        <img class="brand-logo" src="{{ url_for('static' , filename='css/safecab-logo.png') }}" alt="SafeCab logo" />
        <div class="brand-text">
            <h1>SafeCab</h1>
            <p>No+Chat — Detección de distracciones al volante</p>
        </div>
    </div>
</header>

<div id="clf-container" class="card">
    <div class="intro">
        Esta demo recibe una imagen y el backend de IA (YOLO) detecta si hay uso de celular mientras se maneja.
    </div>
    <form action="{{ url_for('upload_image') }}" class="form-classifier" enctype="multipart/form-data" method="post">
        <input autocomplete="off" name="file" required type="file">
        <button class="hvr-grow-shadow primary" type="submit">Analizar</button>
    </form>
    {% if filename %}
    {% if result and result['clase_nombre'] is not none %}
    <div class="response response-ok">
	    <div>Clase: <b>{{ result['clase_id'] }} {{ result['clase_nombre'] }}</b></div>
    </div>
    {% else %}
    <div class="response response-error">
        Error de predicción. No se encontró ninguna clase.
        {% if error %}
        <div>Detalle del error: {{error}}</div>
        {% endif %}
    </div>
    {% endif %}
    <img alt="Uploaded image" class="uploaded-image" src="{{ url_for('display_image', filename=filename) }}">
    {% endif %}
    {% if not filename and error %}
    <div class="response response-ok">
        Error: {{error}}
    </div>
    {% endif %}
</div>

</body>
</html>
